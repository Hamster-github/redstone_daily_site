<!DOCTYPE html>
<html>
<head>
    <script src="https://tam.cdn-go.cn/aegis-sdk/latest/aegis.f.min.js"></script>
<script>
  // Aegis 观测上报环境
  const AegisENV = Object.freeze({
    // 生产环境
    pro: 'Aegis.environment.production',
    // 开发环境
    dev: 'Aegis.environment.development',
    // 灰度环境
    gray: 'Aegis.environment.gray',
    // 预发布环境
    pre: 'Aegis.environment.pre',
    // 日发布环境
    daily: 'Aegis.environment.daily',
    // 本地环境
    local: 'Aegis.environment.local',
    // 测试环境
    test: 'Aegis.environment.test',
    // 其他环境
    others: 'Aegis.environment.others'
  });

  const uin = Date.now() + "-" + window.btoa(Math.random().toString(36));
  if (typeof Aegis === 'function') {
    var aegis = new Aegis({
      // Env
      id: 'xEjDYTQvJ6JbYQ771W',
      uin: uin,
      env: AegisENV.others,
      hostUrl: 'https://rumt-zh.com',

      // Speed Report
      reportApiSpeed: true,
      pagePerformance: true,
      reportAssetSpeed: true,
      speedSample: false,

      // Error Report
      onError: true,

      // SPA Set
      spa: true,

      // API
      api: {
        // Report
        apiDetail: true,
        reportRequest: true,
        websocketHack: true,
        usePerformanceTiming: true,

        // Trace Header
        injectTraceHeader: 'traceparent',

        // Header Report
        reqHeaders: ['traceparent'],
        resHeaders: ['content-type', 'server'],

        // Ignore URL
        injectTraceIgnoreUrls: ['/gstatic.com/', '/bilibili.com/'],

        // RC Report
        // retCodeHandler(data, url, xhr) {
          
        // }
      }
    });
  }
</script>

    <!--
      If you are serving your web app in a path other than the root, change the
      href value below to reflect the base path you are serving from.

      The path provided below has to start and end with a slash "/" in order for
      it to work correctly.

      For more details:
      * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base

      This is a placeholder for base href that will be replaced by the value of
      the `--base-href` argument provided to `flutter build`.
    -->
    <base href="$FLUTTER_BASE_HREF">

    <meta charset="UTF-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="description" content="A new Flutter project.">
    <meta name="referrer" content="never">

    <!-- iOS meta tags & icons -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="redstone_daily_site">
    <link rel="apple-touch-icon" type="image/svg+xml" href="favicon.svg">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg"/>

    <title>redstone_daily_site</title>
    <link rel="manifest" href="manifest.json">

    <script>
        // The value below is injected by flutter build, do not touch.
        const serviceWorkerVersion = null;
    </script>
    <!-- This script adds the flutter initialization JS code -->
    <script src="flutter.js" defer></script>
</head>
<body>
<script>
    window.addEventListener('load', function(ev) {
      // Download main.dart.js
      _flutter.loader.loadEntrypoint({
        serviceWorker: {
          serviceWorkerVersion: serviceWorkerVersion,
        },
        onEntrypointLoaded: function(engineInitializer) {
          engineInitializer.initializeEngine().then(function(appRunner) {
            appRunner.runApp();
          });
        }
      });
    });
</script>
</body>
</html>

